<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Game</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
    <script src="https://raw.githubusercontent.com/ivopc/phaser3-hpbar/master/phaser3.hpbar.js"></script>
    <style>
        body {
      margin: 0 auto;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    #game {
      margin: 10px auto;
      padding: 0;
      width: 800px;
      height: 640px;
    }
    </style>
</head>

<body style="background-color: black">

<audio id="player" loop>
    <source src="../assets/sounds/background.mp3" type="audio/mp3">
</audio>

<script type="module">
    import Player from "../Player.js";
    import Gem from "../Gem.js";
    import Board from "../Board.js";

    const config = {
        type: Phaser.AUTO,
        width: 1225,
        height: 718,
        backgroundColor: '#18353f',
        parent: 'phaser-example',
        scene: {
            preload: preload,
            create: create,
            update:update
        },
        physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 0 },
            debug: true
            }
        },
       // marginLeft: 100,
    };
    window.game = new Phaser.Game(config);

    function preload() {
        // background & animations
        this.load.image('background', '../assets/background.png');
        this.load.atlas('flares', '../assets/particles/flares.png', '../assets/json/flares.json');
        this.load.atlas('flares2', '../assets/particles/flares.png', '../assets/json/flares.json');

        // gem
        this.load.atlas('gem', '../assets/gem.png', '../assets/gem.json');
        this.load.image('actionPoint', '../assets/gem_black.png');

        // items
        this.load.image('Leather_Helm', '../assets/item/Leather_Helm.webp');
        this.load.image('Leather_Armor', '../assets/item/Leather_Armor.webp');
        this.load.image('Leather_Boots', '../assets/item/Leather_Boots.webp');
        this.load.image('Necklace', '../assets/item/Necklace.webp');
        this.load.image('Saber', '../assets/item/Saber.webp');


        // avatar
        this.load.image('assassinF', '../assets/player/assassinF.webp');
        this.load.image('assassinM', '../assets/player/assassinM.webp');
        this.load.image('barbarianF', '../assets/player/barbarianF.webp');
        this.load.image('barbarianM', '../assets/player/barbarianM.webp');
        this.load.image('sorcererF', '../assets/player/sorcererF.webp');
        this.load.image('sorcererM', '../assets/player/sorcererM.webp');
        this.load.image('templarF', '../assets/player/templarF.webp');
        this.load.image('templarM', '../assets/player/templarM.webp');


        this.load.scenePlugin('rexboardplugin', 'https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexboardplugin.min.js', 'rexBoard', 'rexBoard');
        this.load.script('rexbejeweled', 'https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexbejeweled.min.js');
    }

    function create() {
        this.data.set('scores', undefined);  // Initial 'scores' value
        this.physics.world.setBounds(330, 70, 2576, 1576);
        this.add.image(612.5, 359, 'background');
        const player1 = new Player(this, 0, 0, 'blue');
        const player2 = new Player(this, 865, 0, 'red');
        this.add.existing(player1);
        this.add.existing(player2);
        


        const board = new Board(this,330,70);
       
       
       
        
    
    }

    function update(time, delta) {
       
    }

</script>

</body>

</html>